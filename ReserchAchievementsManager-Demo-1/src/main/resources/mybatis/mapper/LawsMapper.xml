<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.swjtuhc.mapper.LawsMapper">
	<resultMap id="BaseResultMap"
		type="edu.swjtuhc.model.Laws">
		<id column="l_id" property="lId" jdbcType="BIGINT" />
		<result column="l_name" property="lName"
			jdbcType="VARCHAR" />
		<result column="l_num" property="lNum"
			jdbcType="VARCHAR" />
		<result column="level" property="level"
			jdbcType="INTEGER" />
		<result column="involvement" property="involvement"
			jdbcType="INTEGER" />
		<result column="words_count" property="wordsCount"
			jdbcType="INTEGER" />
		<result column="attachment" property="attachment"
			jdbcType="VARCHAR" />
		<result column="uploader" property="uploader"
			jdbcType="VARCHAR" />	
		<result column="upload_date"
			property="uploadDate" jdbcType="TIMESTAMP" javaType="java.sql.Timestamp" />	
		<result column="publish_date"
			property="publishDate" jdbcType="TIMESTAMP" javaType="java.sql.Timestamp" />	
		<result column="score" property="score"
			jdbcType="FLOAT" />
		<result column="max_score" property="maxScore"
			jdbcType="FLOAT" />			
		<result column="department" property="department"
			jdbcType="VARCHAR" />
		<result column="sub_department" property="subDepartment"
			jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		l_id,l_name,l_num,level,involvement,words_count,attachment,uploader,upload_date,score,max_score,department,sub_department,publish_date
	</sql>
	<select id="getLawsById" parameterType="java.lang.Long"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List"></include>
		from laws
		where l_id = #{lId}
	</select>
	<insert id="createLaws"
		parameterType="edu.swjtuhc.model.Laws">
		INSERT INTO 
		laws
		(<include refid="Base_Column_List"></include>)
		values
		(#{lId},#{lName},#{lNum},#{level},#{involvement},#{wordsCount},#{attachment},#{uploader},#{uploadDate},#{score},#{maxScore},#{department},#{subDepartment},#{publishDate})
	</insert>
	<update id="updateLaws" parameterType="edu.swjtuhc.model.Laws">
		UPDATE
		laws
		SET
		l_name = #{lName},l_num = #{lNum},level=#{level},involvement=#{involvement},words_count=#{wordsCount},attachment=#{attachment},uploader=#{uploader},upload_date=#{uploadDate},score=#{score},max_score=#{maxScore},department=#{department},sub_department=#{subDepartment},publish_date=#{publishDate}
		WHERE
		l_id = #{lId}
	</update>
	
	<delete id="deleteLawsById" parameterType="java.lang.Long">
		DELETE FROM
		laws
		WHERE
		l_id=#{lId}		
	</delete>

</mapper> 